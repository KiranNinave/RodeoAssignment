{"version":3,"file":"static/webpack/static/development/pages/detail.js.7b9fa63ed6227b199551.hot-update.js","sources":["webpack:///./apis/functions/requests.js","webpack:///./apis/functions/responses.js","webpack:///./apis/movieApis.js","webpack:///./pages/detail.js"],"sourcesContent":["export const httpMethods = {\n  GET: \"GET\",\n  POST: \"POST\",\n  PUT: \"PUT\",\n  DELETE: \"DELETE\",\n  PATCH: \"PATCH\"\n};\n\nexport const sendJsonRequest = async (url = \"\", method = httpMethods.GET) => {\n  const header = {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization:\n        \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2VjYzFlMzAwNmRiZjMyNjEyNzk2NDQ0OTFiZTc2NiIsInN1YiI6IjVkY2QyYzA1Y2MyNzdjMDAxNGUyYzdmYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.JGOmr3g3fU0eEUXIWD5sI5l-KhMecoon6tdCliwOdPQ\"\n    }\n  };\n  return await fetch(url, header);\n};\n","export const sendResponse = async (response = {}) => {\n  if (response.status === 401)\n    throw new Error(\"Invalid credentials please relogin\");\n\n  if (response.status === 404) throw new Error(\"404 Item not found\");\n  const json = await response.json();\n  if (process.env.NODE_ENV === \"development\") console.log(json);\n  if (response.status === 400)\n    throw new Error(json.status_message || \"Bad request\");\n  if (response.status === 409)\n    throw new Error(json.status_message || \"data conflict\");\n\n  if (response.status === 200 || response.status === 201) return json;\n\n  throw new Error(\"Cant reach to server\");\n};\n","import { httpMethods, sendJsonRequest } from \"./functions/requests\";\nimport { sendResponse } from \"./functions/responses\";\n\nexport const getSearchMoviesApi = async (\n  data = { query: \"marvel\", page: 1 }\n) => {\n  try {\n    const url = `https://api.themoviedb.org/3/search/movie?query=${data.query}&api_key=b3ecc1e3006dbf3261279644491be766&language=en-US&page=${data.page}`;\n    const response = await sendJsonRequest(url, httpMethods.GET);\n    return await sendResponse(response);\n  } catch (err) {\n    throw new Error(err);\n  }\n};\n\nexport const getPopularMoviesApi = async (data = { page: 1 }) => {\n  try {\n    const url = `https://api.themoviedb.org/3/movie/popular?api_key=b3ecc1e3006dbf3261279644491be766&language=en-US&page=${data.page}`;\n    const response = await sendJsonRequest(url, httpMethods.GET);\n    return await sendResponse(response);\n  } catch (err) {\n    throw new Error(err);\n  }\n};\n\nexport const getMovieById = async (data = { id: 1 }) => {\n  try {\n    const url = `https://api.themoviedb.org/3/movie/${data.id}?api_key=b3ecc1e3006dbf3261279644491be766&language=en-US`;\n    console.log(url);\n    const response = await sendJsonRequest(url, httpMethods.GET);\n    return await sendResponse(response);\n  } catch (err) {\n    throw new Error(err);\n  }\n};\n","import React from \"react\";\nimport Header from \"../layouts/Header\";\n\n// style\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\n\n// styled component\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Descriptions, Card } from \"antd\";\n\n// apis\nimport { getMovieById } from \"../apis/movieApis\";\n\nexport default class Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      movie: null\n    };\n    this.isComponentMounted = true;\n  }\n  static async getInitialProps({ query }) {\n    return { query };\n  }\n\n  async componentDidMount() {\n    const movieId = this.props.query.id;\n    await this.fetchMovie(movieId);\n  }\n\n  fetchMovie = async id => {\n    try {\n      this.setState({ loading: true });\n      const response = await getMovieById({ id });\n      this.setState({ movie: response });\n    } catch (err) {\n      console.log(err);\n    } finally {\n      if (this.isComponentMounted) this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Header search={false} />\n        <Container style={{ marginTop: 70 }}>\n          <Card>\n            <Descriptions title=\"User Info\" bordered={false} layout=\"vertical\">\n              <Descriptions.Item label=\"UserName\">\n                Zhou Maomao\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Telephone\">\n                1810000000\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Live\">\n                Hangzhou, Zhejiang\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Address\" span={2}>\n                No. 18, Wantang Road, Xihu District, Hangzhou, Zhejiang, China\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Remark\">empty</Descriptions.Item>\n            </Descriptions>\n          </Card>\n        </Container>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","sourceRoot":""}