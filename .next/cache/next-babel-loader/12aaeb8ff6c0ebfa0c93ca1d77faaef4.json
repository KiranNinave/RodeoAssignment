{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/kiran/Desktop/next/RodeoAssignment/pages/detail.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Header from \"../layouts/Header\"; // style\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\"; // styled component\n\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\";\nimport { Descriptions, Card } from \"antd\"; // apis\n\nimport { getMovieById } from \"../apis/movieApis\";\n\nvar Detail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Detail, _React$Component);\n\n  function Detail(props) {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Detail).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchMovie\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(id) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n\n                _this.setState({\n                  loading: true\n                });\n\n                _context.next = 4;\n                return getMovieById({\n                  id: id\n                });\n\n              case 4:\n                response = _context.sent;\n\n                _this.setState({\n                  movie: response\n                });\n\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 11:\n                _context.prev = 11;\n                if (_this.isComponentMounted) _this.setState({\n                  loading: false\n                });\n                return _context.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8, 11, 14]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      loading: false,\n      movie: null\n    };\n    _this.isComponentMounted = true;\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var movieId;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                movieId = this.props.query.id;\n                _context2.next = 3;\n                return this.fetchMovie(movieId);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading || !this.state.movie) {\n        return __jsx(\"div\", {\n          style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, __jsx(Spinner, {\n          animation: \"border\",\n          role: \"status\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          className: \"sr-only\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"Loading...\")));\n      }\n\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, __jsx(Header, {\n        search: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), __jsx(Container, {\n        style: {\n          marginTop: 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, __jsx(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, __jsx(Descriptions, {\n        title: \"User Info\",\n        bordered: false,\n        layout: \"vertical\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, __jsx(Descriptions.Item, {\n        label: \"UserName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Zhou Maomao\"), __jsx(Descriptions.Item, {\n        label: \"Telephone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"1810000000\"), __jsx(Descriptions.Item, {\n        label: \"Live\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Hangzhou, Zhejiang\"), __jsx(Descriptions.Item, {\n        label: \"Address\",\n        span: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"No. 18, Wantang Road, Xihu District, Hangzhou, Zhejiang, China\"), __jsx(Descriptions.Item, {\n        label: \"Remark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"empty\")))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(_ref2) {\n        var query;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                query = _ref2.query;\n                return _context3.abrupt(\"return\", {\n                  query: query\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getInitialProps(_x2) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Detail;\n}(React.Component);\n\nexport { Detail as default };","map":{"version":3,"sources":["/home/kiran/Desktop/next/RodeoAssignment/pages/detail.js"],"names":["React","Header","Container","Row","Col","Spinner","Descriptions","Card","getMovieById","Detail","props","id","setState","loading","response","movie","console","log","isComponentMounted","state","movieId","query","fetchMovie","width","height","display","justifyContent","alignItems","marginTop","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"../layouts/Header\";\n\n// style\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\n\n// styled component\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\";\nimport { Descriptions, Card } from \"antd\";\n\n// apis\nimport { getMovieById } from \"../apis/movieApis\";\n\nexport default class Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      movie: null\n    };\n    this.isComponentMounted = true;\n  }\n  static async getInitialProps({ query }) {\n    return { query };\n  }\n\n  async componentDidMount() {\n    const movieId = this.props.query.id;\n    await this.fetchMovie(movieId);\n  }\n\n  fetchMovie = async id => {\n    try {\n      this.setState({ loading: true });\n      const response = await getMovieById({ id });\n      this.setState({ movie: response });\n    } catch (err) {\n      console.log(err);\n    } finally {\n      if (this.isComponentMounted) this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    if (this.state.loading || !this.state.movie) {\n      return (\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Header search={false} />\n        <Container style={{ marginTop: 70 }}>\n          <Card>\n            <Descriptions title=\"User Info\" bordered={false} layout=\"vertical\">\n              <Descriptions.Item label=\"UserName\">\n                Zhou Maomao\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Telephone\">\n                1810000000\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Live\">\n                Hangzhou, Zhejiang\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Address\" span={2}>\n                No. 18, Wantang Road, Xihu District, Hangzhou, Zhejiang, China\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Remark\">empty</Descriptions.Item>\n            </Descriptions>\n          </Card>\n        </Container>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}